{"version":3,"file":"common.module.js","sources":["../lang.js","../three.js","../index.js"],"sourcesContent":["/**\r\n * @module Localization.\r\n *\r\n * @author [Andrej Hristoliubov]{@link https://anhr.github.io/AboutMe/}\r\n *\r\n * @copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * @license under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\n/**\r\n * returns the \"primary language\" subtag of the version of the browser.\r\n * See the \"Syntax\" paragraph of RFC 4646 https://tools.ietf.org/html/rfc4646#section-2.1 for details.\r\n */\r\nexport function getLanguageCode() {\r\n\r\n\t//returns the language version of the browser.\r\n\tfunction _getLocale() {\r\n\r\n\t\tif ( !navigator ) {\r\n\r\n\t\t\tconsole.error( \"getLocale() failed! !navigator\" );\r\n\t\t\treturn \"\";\r\n\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\t( navigator.languages !== undefined )\r\n\t\t\t&& ( typeof navigator.languages !== 'unknown' )//for IE6\r\n\t\t\t&& ( navigator.languages.length > 0 )\r\n\t\t)\r\n\t\t\treturn navigator.languages[0];//Chrome\r\n\r\n\t\t//IE\r\n\t\tif ( navigator.language ) {\r\n\r\n\t\t\treturn navigator.language;\r\n\r\n\t\t} else if ( navigator.browserLanguage ) {\r\n\r\n\t\t\treturn navigator.browserLanguage;\r\n\r\n\t\t} else if ( navigator.systemLanguage ) {\r\n\r\n\t\t\treturn navigator.systemLanguage;\r\n\r\n\t\t} else if ( navigator.userLanguage ) {\r\n\r\n\t\t\treturn navigator.userLanguage;\r\n\r\n\t\t}\r\n\r\n\t\tconsole.error( \"getLocale() failed!\" );\r\n\t\treturn \"\";\r\n\r\n\t}\r\n\r\n\treturn _getLocale().toLowerCase().match( /([a-z]+)(?:-([a-z]+))?/ )[1];\r\n\r\n};\r\n\r\n","/**\r\n * three class for [THREE]{@link https://github.com/anhr/three.js} variable.\r\n *\r\n * @author Andrej Hristoliubov https://anhr.github.io/AboutMe/\r\n *\r\n * @copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * @license under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\n//import * as THREE from 'https://threejs.org/build/three.module.js';\r\n//import * as THREE from '../../../../../three.js/dev/build/three.module.min.js';\r\n//import * as THREE from '../../three.js/dev/build/three.module.js';\r\n//import * as THREE from '../../three.js/dev/src/Three.js';\r\n//import { THREE } from 'https://raw.githack.com/anhr/commonNodeJS/master/three.js';\r\n//import * as THREE from 'https://raw.githack.com/anhr/three.js/dev/build/three.module.js';\r\n//import * as THREE from 'https://raw.githack.com/anhr/three.js/dev/build/three.module.min.js';\r\n\r\nvar _THREE;\r\n//var _boThree = false;\r\nclass three {\r\n\r\n\t/**\r\n\t * class for [THREE]{@link https://github.com/anhr/three.js} variable\r\n\t * */\r\n\tconstructor() { }\r\n\t/**\r\n\t * set three\r\n\t * @param {THREE} THREE {@link https://github.com/anhr/three.js|THREE}\r\n\t */\r\n\tset THREE( THREE ) {\r\n\r\n\t\tif ( _THREE ) {\r\n\r\n\t\t\tif ( !Object.is( THREE, _THREE ) )\r\n\t\t\t\tconsole.error( 'three: duplicate THREE. Please use one instance of the THREE library.' )\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\t_THREE = THREE;\r\n//\t\t_boThree = true;\r\n\r\n\t}\r\n\t/**\r\n\t * @returns [THREE]{@link https://github.com/anhr/three.js}\r\n\t */\r\n\tget THREE() {\r\n\r\n\t\tif ( _THREE === undefined ) {\r\n\r\n\t\t\tconsole.error( 'three: invalid _THREE = ' + _THREE + '. Call three.THREE = THREE first.' );\r\n//\t\t\tthrow( 'three: invalid _THREE = ' + _THREE + '. Call three.THREE = THREE first.' );\r\n\r\n\t\t}\r\n\t\treturn _THREE;\r\n\r\n\t}\r\n\r\n}\r\nthree = new three();\r\n\r\n//появляется сообщение об ошибке если вызвать three.isThree и если _THREE === undefined \r\n//потому что непонятно почему вызывается three.get\r\n//three.isThree = function(){ return _boThree; }\r\n\r\nexport default three;","/**\r\n * node.js version of my common functions.\r\n *\r\n * @author Andrej Hristoliubov https://anhr.github.io/AboutMe/\r\n * \r\n * @copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * @license under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nimport { getLanguageCode } from './lang.js';\r\nimport three from './three.js';\r\nconst common = {\r\n\r\n    getLanguageCode: getLanguageCode,\r\n    three: three,\r\n\r\n}\r\n\r\nexport default common;\r\n"],"names":["getLanguageCode","_getLocale","navigator","error","languages","undefined","length","language","browserLanguage","systemLanguage","userLanguage","toLowerCase","match","_THREE","three","THREE","Object","is","console","common"],"mappings":";;;;;;;;;;;;AAAA;;;;;;;;;;;;;AAkBA,AAAO,SAASA,eAAT,GAA2B;WAGxBC,UAAT,GAAsB;QAEhB,CAACC,SAAN,EAAkB;cAETC,KAAR,CAAe,gCAAf;aACO,EAAP;;QAKED,UAAUE,SAAV,KAAwBC,SAA1B,IACK,OAAOH,UAAUE,SAAjB,KAA+B,SADpC;OAEKF,UAAUE,SAAV,CAAoBE,MAApB,GAA6B,CAHnC,EAKC,OAAOJ,UAAUE,SAAV,CAAoB,CAApB,CAAP,CAdoB;QAiBhBF,UAAUK,QAAf,EAA0B;aAElBL,UAAUK,QAAjB;KAFD,MAIO,IAAKL,UAAUM,eAAf,EAAiC;aAEhCN,UAAUM,eAAjB;KAFM,MAIA,IAAKN,UAAUO,cAAf,EAAgC;aAE/BP,UAAUO,cAAjB;KAFM,MAIA,IAAKP,UAAUQ,YAAf,EAA8B;aAE7BR,UAAUQ,YAAjB;;YAIOP,KAAR,CAAe,qBAAf;WACO,EAAP;;SAIMF,aAAaU,WAAb,GAA2BC,KAA3B,CAAkC,wBAAlC,EAA6D,CAA7D,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DD;;;;;;;;;;;;;AAsBA,IAAIC,MAAJ;IAEMC;kBAKS;;;;;uBAKHC,OAAQ;OAEbF,MAAL,EAAc;QAER,CAACG,OAAOC,EAAP,CAAWF,KAAX,EAAkBF,MAAlB,CAAN,EACCK,QAAQf,KAAR,CAAe,uEAAf;;;YAIOY,KAAT;;;yBAOW;OAENF,WAAWR,SAAhB,EAA4B;YAEnBF,KAAR,CAAe,6BAA6BU,MAA7B,GAAsC,mCAArD;;UAIMA,MAAP;;;;;AAKFC,QAAQ,IAAIA,KAAJ,EAAR;AAMA,cAAeA,KAAf;;ACrEA;;;;;;;;;;;;;AAcA,AAEA,IAAMK,SAAS;mBAEMnB,eAFN;SAGJc;CAHX;;;;"}