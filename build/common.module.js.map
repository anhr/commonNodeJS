{"version":3,"file":"common.module.js","sources":["../lang.js","../index.js"],"sourcesContent":["/**\r\n * @module Localization.\r\n *\r\n * @author [Andrej Hristoliubov]{@link https://anhr.github.io/AboutMe/}\r\n *\r\n * @copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * @license under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\n/**\r\n * returns the \"primary language\" subtag of the version of the browser.\r\n * See the \"Syntax\" paragraph of RFC 4646 https://tools.ietf.org/html/rfc4646#section-2.1 for details.\r\n */\r\nexport function getLanguageCode() {\r\n\r\n\t//returns the language version of the browser.\r\n\tfunction _getLocale() {\r\n\r\n\t\tif ( !navigator ) {\r\n\r\n\t\t\tconsole.error( \"getLocale() failed! !navigator\" );\r\n\t\t\treturn \"\";\r\n\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\t( navigator.languages !== undefined )\r\n\t\t\t&& ( typeof navigator.languages !== 'unknown' )//for IE6\r\n\t\t\t&& ( navigator.languages.length > 0 )\r\n\t\t)\r\n\t\t\treturn navigator.languages[0];//Chrome\r\n\r\n\t\t//IE\r\n\t\tif ( navigator.language ) {\r\n\r\n\t\t\treturn navigator.language;\r\n\r\n\t\t} else if ( navigator.browserLanguage ) {\r\n\r\n\t\t\treturn navigator.browserLanguage;\r\n\r\n\t\t} else if ( navigator.systemLanguage ) {\r\n\r\n\t\t\treturn navigator.systemLanguage;\r\n\r\n\t\t} else if ( navigator.userLanguage ) {\r\n\r\n\t\t\treturn navigator.userLanguage;\r\n\r\n\t\t}\r\n\r\n\t\tconsole.error( \"getLocale() failed!\" );\r\n\t\treturn \"\";\r\n\r\n\t}\r\n\r\n\treturn _getLocale().toLowerCase().match( /([a-z]+)(?:-([a-z]+))?/ )[1];\r\n\r\n};\r\n\r\n","/**\r\n * node.js version of my common functions.\r\n *\r\n * @author Andrej Hristoliubov https://anhr.github.io/AboutMe/\r\n * \r\n * @copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * @license under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nimport { getLanguageCode } from './lang.js';\r\n\r\nexport { getLanguageCode }\r\n\r\n"],"names":["getLanguageCode","_getLocale","navigator","error","languages","undefined","length","language","browserLanguage","systemLanguage","userLanguage","toLowerCase","match"],"mappings":";;;;;;;;;;;;AAAA;;;;;;;;;;;;;AAkBA,AAAO,SAASA,eAAT,GAA2B;WAGxBC,UAAT,GAAsB;QAEhB,CAACC,SAAN,EAAkB;cAETC,KAAR,CAAe,gCAAf;aACO,EAAP;;QAKED,UAAUE,SAAV,KAAwBC,SAA1B,IACK,OAAOH,UAAUE,SAAjB,KAA+B,SADpC;OAEKF,UAAUE,SAAV,CAAoBE,MAApB,GAA6B,CAHnC,EAKC,OAAOJ,UAAUE,SAAV,CAAoB,CAApB,CAAP,CAdoB;QAiBhBF,UAAUK,QAAf,EAA0B;aAElBL,UAAUK,QAAjB;KAFD,MAIO,IAAKL,UAAUM,eAAf,EAAiC;aAEhCN,UAAUM,eAAjB;KAFM,MAIA,IAAKN,UAAUO,cAAf,EAAgC;aAE/BP,UAAUO,cAAjB;KAFM,MAIA,IAAKP,UAAUQ,YAAf,EAA8B;aAE7BR,UAAUQ,YAAjB;;YAIOP,KAAR,CAAe,qBAAf;WACO,EAAP;;SAIMF,aAAaU,WAAb,GAA2BC,KAA3B,CAAkC,wBAAlC,EAA6D,CAA7D,CAAP;;;AC7DD;;;;;;;;;;;;;;;;"}