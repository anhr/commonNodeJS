<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8" />
	<title>loadScript</title>
	<meta name="author" content="Andrej Hristoliubov https://anhr.github.io/AboutMe/">

	<script src="../build/loadScript.js"></script>
	<!--<script src="build/loadScript.min.js"></script>-->
	<!--<script src="https://raw.githack.com/anhr/loadScriptNodeJS/master/build/loadScript.js"></script>-->
	<!--<script src="https://raw.githack.com/anhr/loadScriptNodeJS/master/build/loadScript.min.js"></script>-->

</head>
<body>
	<p><a href='https://anhr.github.io/index.html' target="_blank">Home</a> | <a href='https://github.com/anhr/loadScriptNodeJS' target="_blank">GitHub</a></p>

	<h1>node.js version of the load JavaScript file.</h1>
	<h2>Async loading.</h2>

	<p>
		<div>Result of testing of async loading of JavaScript.js file: <span id="asyncres"></span></div>
	</p>
	<script type="text/javascript">
		const elAsyncRes = document.getElementById( "asyncres" );
		loadScript.async( "JavaScript.js",
			{
				onload: function () {

					var str = 'file has been loaded successfully';
					console.log( str );
					elAsyncRes.innerHTML = str;

				},
				onerror: function ( str, e ) {

					elAsyncRes.style.color = 'red';
					elAsyncRes.innerHTML = str;

				},

			} );


/**/</script>

	<p>
		<input type="button" value="Async loading of JavaScript.js file again" onclick="loadAgain()" /> <span id="asyncagainres"></span>
	</p>
	<script type="text/javascript">
		function loadAgain() {
			const elAsyncAgainRes = document.getElementById( "asyncagainres" );
			loadScript.async( "JavaScript.js",
				{
					onload: function () {

						var str = 'file has been loaded successfully';
						console.log( str );
						elAsyncAgainRes.innerHTML = str;

					},
					onerror: function ( str, e ) {

						elAsyncAgainRes.style.color = 'red';
						elAsyncAgainRes.innerHTML = str;

					},

				} );
		}
		//loadAgain();

	</script>

	<p>
		<div>Result of testing of async loading of the appendTo.js file to specified node: <span id="asyncappendtores"></span></div>
		<div id="appendto"></div>
		<div id="appendtoinner"></div>
	</p>
	<script type="text/javascript">
		const elAsyncAppendToRes = document.getElementById( "asyncappendtores" ),
			elAppendTo = document.getElementById( "appendto" );
		loadScript.async( "appendTo.js",
			{
				onload: function () {

					var str = 'file has been loaded successfully';
					console.log( str );
					elAsyncAppendToRes.innerHTML = str;
					document.getElementById( "appendtoinner" ).innerHTML = "Node content: '" + loadScript.escapeHtml( elAppendTo.innerHTML ) + "'";

				},
				onerror: function ( str, e ) {

					elAsyncAppendToRes.style.color = 'red';
					elAsyncAppendToRes.innerHTML = str;

				},
				appendTo: elAppendTo,

			} );

	</script>

	<p>
		<div>Result of testing of async loading of array of JavaScript1.js and JavaScript2.js files: <span id="asyncarrayres"></span></div>
	</p>
	<script type="text/javascript">
		const elAsyncArrayRes = document.getElementById( "asyncarrayres" );
		loadScript.async( ["JavaScript1.js", "JavaScript2.js"],
			{
				onload: function () {

					var str = 'file has been loaded successfully';
					console.log( str );
					elAsyncArrayRes.innerHTML = str;

				},
				onerror: function ( str, e ) {

					elAsyncArrayRes.style.color = 'red';
					elAsyncArrayRes.innerHTML = str;

				},

			} );
		loadScript.async( ["JavaScript1.js", "JavaScript3.js"],
			{
				onload: function () {

					var str = 'file has been loaded successfully';
					console.log( str );
					elAsyncArrayRes.innerHTML = str;

				},
				onerror: function ( str, e ) {

					elAsyncArrayRes.style.color = 'red';
					elAsyncArrayRes.innerHTML = str;

				},

			} );
	</script>

	<h2>Synchronous loading.</h2>

	<p>
		<div>Result of testing of synchronous loading of sync.js file: <span id="syncres"></span></div>
	</p>
	<script type="text/javascript">
		const elSyncRes = document.getElementById( "syncres" );
		loadScript.sync( 'sync.js' );
		if ( typeof sync === 'undefined' ) {

			elSyncRes.style.color = 'red';
			elSyncRes.innerHTML = 'sync is undefined';

		}
		else sync( elSyncRes );
	</script>

	<p>
		<div>Result of testing of synchronous loading of sync2.js file.</div>
		<div>sync2.js file content: <span id="sync2res"></span></div>
		<div id="appendtosync2"></div>
		<div id="appendtoinnersync2"></div>
	</p>
	<script type="text/javascript">
		const elSync2Res = document.getElementById( "sync2res" ),
			elAppendToSync2 = document.getElementById( "appendtosync2" );
		loadScript.sync( 'sync2.js',
			{
				onload: function ( response ) {

					var str = 'file has been loaded successfully';
					console.log( str );
					elSync2Res.innerHTML = loadScript.escapeHtml( response );

				},
				onerror: function ( str ) {

					elSync2Res.style.color = 'red';
					elSync2Res.innerHTML = str;

				},
				appendTo: elAppendToSync2,
			},
		);
		document.getElementById( "appendtoinnersync2" ).innerHTML = "Node content: '" + loadScript.escapeHtml( elAppendToSync2.innerHTML ) + "'";
	</script>

	<p>
		<div>Result of testing of synchronous loading of array of sync.js and sync2.js files.</div>
		<div id="sync3res"></div>
	</p>
	<script type="text/javascript">
	var elSync3Res = document.getElementById( "sync3res" );
	loadScript.sync( [ 'sync.js', 'sync2.js' ],
		{
			onload: function ( response ) {

				var str = 'sync.js and sync2.js files has been loaded successfully';
				console.log( str );
				elSync3Res.innerHTML = str;

			},
			onerror: function ( str ) {

				elSync3Res.style.color = 'red';
				elSync3Res.innerHTML = str;

			},
		},
	);
	</script>
</body>
	</html>
