<html>
<head>
	<title>Hypersphere</title>

	<!--for mobile devices-->
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

	<meta name="author" content="Andrej Hristoliubov https://github.com/anhr">
	<!--<link type="text/css" rel="stylesheet" href="https://threejs.org/examples/main.css">-->
	<link type="text/css" rel="stylesheet" href="../../../../three.js/dev/examples/main.css">

	<!--
	<script src="../../../../three.js/dev/build/three.js"></script>
	<script src="../../../../three.js/dev/build/three.min.js"></script>
	<script src="https://raw.githack.com/anhr/three.js/dev/build/three.js"></script>
	<script src="https://raw.githack.com/anhr/three.js/dev/build/three.min.js"></script>
	<script src="https://threejs.org/build/three.js"></script>
	<script src="https://threejs.org/build/three.min.js"></script>
	-->
</head>
<body>
	<script nomodule>alert('Fatal error: Your browser do not support modular JavaScript code.');</script>
	<div id="info">
		<a href="https://github.com/anhr/commonNodeJS/tree/master/HyperSphere" target="_blank" rel="noopener">Hypersphere</a>.
		By <a href="https://github.com/anhr" target="_blank" rel="noopener">anhr</a>
	</div>

	<script type="module">

		import * as THREE from '../../../../three.js/dev/build/three.module.js';
		//import * as THREE from 'https://threejs.org/build/three.module.js';
		//import * as THREE from 'https://raw.githack.com/anhr/three.js/dev/build/three.module.js';

		import MyThree from '../../myThree/myThree.js';
		//import MyThree from '../../myThree/build/myThree.module.js';
		//import MyThree from '../../myThree/build/myThree.module.min.js';
		//import MyThree from 'https://raw.githack.com/anhr/commonNodeJS/master/myThree/myThree.js';
		//import MyThree from 'https://raw.githack.com/anhr/commonNodeJS/master/myThree/build/myThree.module.js';
		//import MyThree from 'https://raw.githack.com/anhr/commonNodeJS/master/myThree/build/myThree.module.min.js';
		MyThree.three.THREE = THREE;

		import HyperSphere3D from '../hyperSphere3D.js';

		new MyThree( (scene, options) => {

			/*
			//divide hypersphere to segments
			const anglesCount = 1000, angle = Math.PI * 2 / anglesCount, angles = [];
			for (let angleId = 0; angleId < anglesCount; angleId++) angles.push([angle * angleId, angle * angleId * angleId, angle * angleId * angleId * angleId]);
			*/
			
			new HyperSphere3D(options,
			{

				/*
				intersection: {
					
					position: 1,
					//color: 'red',
					
				},
				*/
				//onSelectScene: (hyperSphere, timeId, t) => { if (hyperSphere.middleVertices) return hyperSphere.middleVertices(timeId, t); },
				edges: {

					project: false,//Doesn't project edges onto canvas
					//creationMethod: HyperSphere3D.edgesCreationMethod.Random,
					
				},
				//edges: false,
				randomArc: true,
				projectParams:{
					
					scene: scene,
					/*
					params: {
						
						//center: {x: 0.5, y: 0.3},
					
					}
					 */
					
				},
				//r: 0.5,
				debug: {

					probabilityDensity: false,
					//middleVertice: false,
					//log: false,
					
				},
				debug: false,
				settings: {
					
					object: {
	
						//name: 'edges',
						//color: 'red',
						//color: 0xffffff,
						geometry: {

							//Tesseract https://en.wikipedia.org/wiki/Tesseract
							//Please set indices.edges for tesseract
							angles: [
								//cube 1
								[Math.PI / 2, Math.PI * 1 / 4,   Math.PI * 1 / 4],
								[Math.PI / 2, Math.PI * 1 / 4,   Math.PI * 3 / 4],
								[Math.PI / 2, Math.PI * 1 / 4, - Math.PI * 3 / 4],
								[Math.PI / 2, Math.PI * 1 / 4, - Math.PI * 1 / 4],
								[Math.PI / 2, - Math.PI * 1 / 4, - Math.PI * 1 / 4],
								[Math.PI / 2, - Math.PI * 1 / 4,   Math.PI * 1 / 4],
								[Math.PI / 2, - Math.PI * 1 / 4,   Math.PI * 3 / 4],
								[Math.PI / 2, - Math.PI * 1 / 4, - Math.PI * 3 / 4],
								//cube 2
								[Math.PI / 4, Math.PI * 1 / 4,   Math.PI * 1 / 4],
								[Math.PI / 4, Math.PI * 1 / 4,   Math.PI * 3 / 4],
								[Math.PI / 4, Math.PI * 1 / 4, - Math.PI * 3 / 4],
								[Math.PI / 4, Math.PI * 1 / 4, - Math.PI * 1 / 4],
								[Math.PI / 4, - Math.PI * 1 / 4, - Math.PI * 1 / 4],
								[Math.PI / 4, - Math.PI * 1 / 4,   Math.PI * 1 / 4],
								[Math.PI / 4, - Math.PI * 1 / 4,   Math.PI * 3 / 4],
								[Math.PI / 4, - Math.PI * 1 / 4, - Math.PI * 3 / 4],
							],
							
							//test for angles range
							angles: [
								//vertice 0
								[
									0,//Altitude
									Math.PI / 4,//Latitude
									0,//Longitude
								],
								//vertice 1
								[
									//Math.PI / 2,//Altitude
									-1 * Math.PI / 4,//Altitude
									
									Math.PI / 4,//Latitude
									//Math.PI * 3 / 4,//Latitude invalid range from -π/2 to π/2
									//Math.PI * (1 / 4 + 2),//Latitude invalid range from -π/2 to π/2
									
									0,//Longitude
									//Math.PI * 2,//Longitude invalid range from -π to π
								],
								//vertice 2
								[
									2 * Math.PI / 4,//Altitude
									Math.PI / 4,//Latitude
									0,//Longitude
								],
								//vertice 3
								[
									3 * Math.PI / 4,//Altitude
									Math.PI / 4,//Latitude
									0,//Longitude
								],
								//vertice 4
								[
									4 * Math.PI / 4,//Altitude
									Math.PI / 4,//Latitude
									0,//Longitude
								],
								//vertice 5
								[
									5 * Math.PI / 4,//Altitude
									Math.PI / 4,//Latitude
									0,//Longitude
								],
								//vertice 6
								[
									9 * Math.PI / 4,//Altitude
									Math.PI / 4,//Latitude
									0,//Longitude
								],
							],
							
							//pentahedroid https://en.wikipedia.org/wiki/5-cell
							angles: [
								[],//0
								[Math.PI / 2, Math.PI / 2],//1
								[
									Math.PI / 2,//Altitude
									- Math.PI / 6,//Latitude
									Math.PI * 0,//Longitude
								],//2
								[Math.PI / 2, - Math.PI / 6, Math.PI * 2 * 1 / 3],//3
								[Math.PI / 2, - Math.PI / 6, - Math.PI * 2 * 1 / 3],//4
							],
							//для проверки облака случайных точек
							//Для проверки выбрать точку 2
							//Перейти "Meshes\Points\Point Local Position\Advansed\Edges" = (2) 2,3
							angles: [
								[],//0
								[Math.PI / 2, Math.PI / 2],//1
								[
									Math.PI / 4,//Altitude
									- Math.PI / 6,//Latitude
									Math.PI * 0,//Longitude
								],//2
								
//								[Math.PI / 4, - Math.PI / 6, Math.PI * 2 * 1 / 3],//3
								[Math.PI / 8, - Math.PI / 6, Math.PI * 2 * 1 / 3],//3 маленькая высота
//								[Math.PI / 4 + Math.PI / 2, Math.PI / 6, Math.PI * 0 - Math.PI],//3 Эта точка противоположна точке 2. Все случайные точки должны равномерно распределены по гиперсфере
//								[Math.PI / 4 + Math.PI / 2, -Math.PI / 6, Math.PI * 0],//3 Эта точка совпадает с точкой 2 за исключением высоты. Высота установлена так, ЧТО на холсте точки 2 и 3 совпадают.
//								[Math.PI / 4, - Math.PI / 6, Math.PI * 0],//3 Эта точка совпадает с точкой 2. Все случайные точки должны совпадать с точками 2 и 3
								
								[Math.PI / 2, - Math.PI / 6, - Math.PI * 2 * 1 / 3],//4
							],
							//angles: { count: 1000, },
							//angles: angles,
							/*
							colors: [
								1, 0, 0,//red
								0, 1, 0,//green
								0, 0, 1,//blue
								//1, 1, 1,//white
							],
							*/
							//opacity: [1, 0.2],
							/*
							indices: {

								edges: { count: 6, },
								//Tesseract
								edges: [
									//cube 1
									[0,1], [1,2], [2,3], [3,0],
									[4,5], [5,6], [6,7], [7,4],
									[0,5], [1,6], [2,7], [3,4],
									//cube 2
									[ 8,9 ], [ 9,10], [10,11], [11,8 ],
									[12,13], [13,14], [14,15], [15,12],
									[ 8,13], [ 9,14], [10,15], [11,12],
									//cube 1 to //cube 2
									[ 0,8], [ 1,9], [2,10], [3,11],
									[ 4,12], [ 5,13], [6,14], [7,15],
								],
								
							}
							*/
						
						}

					}
				
				},
				
				
			});

		}, {

			dat: { guiSelectPoint: { point: (options, dat, fMesh) => { return new HyperSphere3D.ND.gui(options, dat, fMesh); }, }, },
			//camera: { position: new THREE.Vector3( 0, 0, 2 ) },
			scales: {

				//posAxesIntersection: new THREE.Vector3( -1, -1, -1 ),
				text: { precision: 1, rect: { displayRect: false, }, },
				/*see hyperSphere3D.setW
				w: {
					
					min: 0,
					max: 1,
					//name: 't',
				},
				*/

			},
			//dat: false,
			canvas: {

				noButtonFullScreen: true,

			},
			pointLight: false,
			//point: { size: 0.0 },
			//palette: MyThree.ColorPicker.paletteIndexes.BGYW,
			//palette: MyThree.ColorPicker.paletteIndexes.rainbow,
			/*
			playerOptions: {
				
				max: Infinity,
				interval: 100,
				
			},
			*/
			playerOptions: {
				
				//marks: 2,
				min: 1,
				max: 1.5,
				interval: 100,
			
			}

		});

	</script>
</body>
</html>