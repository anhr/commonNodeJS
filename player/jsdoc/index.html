<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Player.</h1>
<p>I use <b>Player</b> in my <a href="https://threejs.org/">three.js</a> projects for 3D objects animation.</p>
<h1>Content</h1>
<ul>
<li><a href="#Quickstart">Quick start.</a></li>
<li><a href="#AddTrace">Add trace line of moving of the point during playing.</a></li>
<li><a href="#PointColor">Point color.</a></li>
<li><a href="#MovePoints">Move points position.</a></li>
<li><a href="#ShaderMaterialPoints">Create <b>THREE.Points</b> with <b>THREE.ShaderMaterial</b>.</a></li>
<li><a href="#MyPoints">Use <b>MyPoints</b> for create points.</a></li>
<li><a href="#CanvasMenu">Add <b>player</b> item into <b>CanvasMenu</b>.</a></li>
<li><a href="#datGuiPlayer">Using <b>dat.gui</b> for manual change of the <b>Player</b> settings.</a></li>
<li><a href="#datGuiCamera">Using <b>dat.gui</b> for manual change of the <b>camera</b> settings.</a></li>
<li><a href="#datGuiPlayerControl">Add player control buttons to the <b>dat.gui</b>.</a></li>
<li><a href="#cameraLook">Set the camera to look at a point.</a></li>
<li><a href="#playingTime">Time of the playing.</a></li>
<li><a href="#DirectoryContents">Directory Contents.</a></li>
<li><a href="#Building">Building your own Player.</a></li>
</ul>
<p><a name="QuickStart"></a></p>
<h2>Quick start</h2>
<ul>
<li>Create a folder on your localhost named as [folderName].</li>
<li>Add your web page into [folderName]. Example:</li>
</ul>
<pre class="prettyprint source"><code>&lt;!DOCTYPE html>

&lt;html>
&lt;head>
	&lt;title>Player&lt;/title>
	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;https://threejs.org/examples/main.css&quot;>
&lt;/head>
&lt;body>
	&lt;div id=&quot;info&quot;>
		&lt;a href=&quot;https://threejs.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;>three.js&lt;/a> - Player - 3D objects animation.
	&lt;/div>
	&lt;div>
		&lt;canvas id=&quot;canvas&quot;>&lt;/canvas>
	&lt;/div>

	&lt;script type=&quot;module&quot;>

		import * as THREE from 'https://threejs.org/build/three.module.js';
		//import { THREE } from 'https://raw.githack.com/anhr/commonNodeJS/master/three.js';
		//import * as THREE from 'https://raw.githack.com/anhr/three.js/dev/build/three.module.js';
		//import * as THREE from 'https://raw.githack.com/anhr/three.js/dev/build/three.module.min.js';

		var camera, scene, renderer;

		init();
		animate();

		function init() {

			camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 0.01, 10 );
			camera.position.copy( new THREE.Vector3( 0.4, 0.4, 2 ) );

			scene = new THREE.Scene();

			renderer = new THREE.WebGLRenderer( {

				antialias: true,
				canvas: document.getElementById( 'canvas' ),

			} );
			renderer.setSize( window.innerWidth, window.innerHeight );

			window.addEventListener( 'resize', onWindowResize, false );

		}
		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize( window.innerWidth, window.innerHeight );

		}

		function animate() {

			requestAnimationFrame( animate );

			renderer.render( scene, camera );

		}

	&lt;/script>
&lt;/body>
&lt;/html>
</code></pre>
<p>The easiest way to use <b>Player</b> in your code is import <b>Player</b> from <b>Player.js</b> file in your JavaScript module.
<a href="https://raw.githack.com/anhr/commonNodeJS/master/player/Examples/index.html">Example</a>.</p>
<pre class="prettyprint source"><code>import Player from 'https://raw.githack.com/anhr/commonNodeJS/master/player/player.js';
</code></pre>
<p>or</p>
<pre class="prettyprint source"><code>import Player from 'https://raw.githack.com/anhr/commonNodeJS/master/player/build/player.module.js';
</code></pre>
<p>or</p>
<pre class="prettyprint source"><code>import Player from 'https://raw.githack.com/anhr/commonNodeJS/master/player/build/player.module.min.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import Player from './commonNodeJS/master/player/player.js';
</code></pre>
<p>or</p>
<pre class="prettyprint source"><code>import Player from './commonNodeJS/master/player/build/player.module.js';
</code></pre>
<p>or</p>
<pre class="prettyprint source"><code>import Player from './commonNodeJS/master/player/build/player.module.min.js';
</code></pre>
<p>Now you can use <b>Player</b> in your javascript code.</p>
<p>Add <b>Player</b>.</p>
<pre class="prettyprint source"><code>const player = new Player( THREE, scene );
</code></pre>
<p>Create a 3d object, for example <b>Points</b>:</p>
<pre class="prettyprint source"><code>const arrayFuncs = [
	new THREE.Vector3( 0, 0.5, 0.5 ),//First point
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
const points = new THREE.Points( new THREE.BufferGeometry().setFromPoints( arrayFuncs ),
	new THREE.PointsMaterial( {

		color: 0xffffff,
		size: 0.2,

	} ) );
scene.add( points );
</code></pre>
<p>Currently your player does nothing. Suppose you want to move a point during playing. Change your code for this:</p>
<ul>
<li>Edit <b>arrayFuncs</b></li>
</ul>
<pre class="prettyprint source"><code>const arrayFuncs = [
	new THREE.Vector3(
		new Function( 't', 'a', 'b', 'return Math.sin(t*a*2*Math.PI)*0.5+b' ),//x
		new Function( 't', 'a', 'b', 'return Math.cos(t*a*2*Math.PI)*0.5-b' ),//y
		0.5,//z
	),//First point
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
const points = new THREE.Points( new THREE.BufferGeometry().setFromPoints( Player.getPoints( THREE, arrayFuncs,
	{ group: scene } ) ),
	new THREE.PointsMaterial( {

		color: 0xffffff,
		size: 0.2,

	} ) );
</code></pre>
<p>You can see, the <b>X</b> and <b>Y</b> values of the first point of the <b>arrayFuncs</b> is function of the <b>t</b>. <b>X</b> is <b>sin(t)</b> and <b>Y</b> is <b>cos(t)</b>.
<b>t</b> is current time of the playing. Default start time <b>t = 0</b>, <b>a = 1</b>, <b>b = 0</b>.
Read about <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a>.
Currently <a href="https://raw.githack.com/anhr/commonNodeJS/master/player/jsdoc/module-Player.html#~Player.getPoints">Player.getPoints(...)</a> returns an array of the vectors for <b>t = 0</b>.</p>
<ul>
<li>Define the <b>points.userData.player</b> object in your code for including of the points into <b>Player</b>.
Include <b>arrayFuncs</b> into <b>points.userData.player</b> object if you want to move points during playing.</li>
</ul>
<pre class="prettyprint source"><code>points.userData.player = {

	arrayFuncs: arrayFuncs,

}
</code></pre>
<ul>
<li>Start playing.</li>
</ul>
<pre class="prettyprint source"><code>player.play3DObject();
</code></pre>
<p>Attention! Please start playing after creation of all 3D objects, in current example after creating of the points.</p>
<p>Update your web page. Now you can see moving a point on the canvas.</p>
<p>Default, the playing ticks count is 10. You can change it.
Also you can set your ticks per seconds and other setting.
See <a href="https://raw.githack.com/anhr/commonNodeJS/master/player/jsdoc/module-Player.html">Player</a> for details.
Please change your <b>Player</b> for it.</p>
<pre class="prettyprint source"><code>const player = new Player( THREE, scene, {

		settings: {

			marks: 100,//Ticks count of the playing.
			interval: 25,//Ticks per seconds.

		},

} );
</code></pre>
<p><a name="AddTrace"></a></p>
<h4>Add trace line of moving of the point during playing.</h4>
<ul>
<li>Edit <b>arrayFuncs</b></li>
</ul>
<pre class="prettyprint source"><code>const arrayFuncs = [
	{

		vector: new THREE.Vector3(
			new Function( 't', 'a', 'b', 'return Math.sin(t*a*2*Math.PI)*0.5+b' ),//x
			new Function( 't', 'a', 'b', 'return Math.cos(t*a*2*Math.PI)*0.5-b' ),//y
			0.5,//z
		),//First point
		trace: true,//Displays the trace of the first point movement.

	},
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
</code></pre>
<p>You can see, first value of the array is object with</p>
<p><b>{</p>
<pre><code>vector: position of the point
trace: true - displays the trace of the point movement.
</code></pre>
<p>}</b></p>
<p>Now you can see a trace line of the moving of the first point.
<a name="PointColor"></a></p>
<h4>Point color.</h4>
<ul>
<li>In the <b>THREE.PointsMaterial</b> parameters of your <b>points</b> remove the <b>color</b> key and add <b>vertexColors: THREE.VertexColors</b>.</li>
</ul>
<pre class="prettyprint source"><code>const points = new THREE.Points( new THREE.BufferGeometry().setFromPoints( Player.getPoints( THREE, arrayFuncs,
	{ group: scene } ) ),
	new THREE.PointsMaterial( {

		vertexColors: THREE.VertexColors,
		size: 0.2,

	} ) );
</code></pre>
<ul>
<li>In the first point of the arrayFuncs change vector from <b>THREE.Vector3</b> to <b>THREE.Vector4</b>.</li>
</ul>
<pre class="prettyprint source"><code>const arrayFuncs = [
	{

		vector: new THREE.Vector4(
			new Function( 't', 'a', 'b', 'return Math.sin(t*a*2*Math.PI)*0.5+b' ),//x
			new Function( 't', 'a', 'b', 'return Math.cos(t*a*2*Math.PI)*0.5-b' ),//y
			0.5,//z
			new THREE.Color( &quot;rgb( 0, 255, 0)&quot; )//w is green color
		),//First point
		trace: true,//Displays the trace of the first point movement.

	},
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
</code></pre>
<p>You can see the <b>w</b> coordinate of the <b>THREE.Vector4</b> is green color.</p>
<ul>
<li>Make the point color is function of the time.</li>
</ul>
<p>Change the <b>w</b> coordinate of the <b>THREE.Vector4</b> to <b>new Function( 't', 'return 1-2*t' )</b>.</p>
<pre class="prettyprint source"><code>const arrayFuncs = [
	{

		vector: new THREE.Vector4(
			new Function( 't', 'a', 'b', 'return Math.sin(t*a*2*Math.PI)*0.5+b' ),//x
			new Function( 't', 'a', 'b', 'return Math.cos(t*a*2*Math.PI)*0.5-b' ),//y
			0.5,//z
			new Function( 't', 'return 1-2*t' )//w
		),//First point
		trace: true,//Displays the trace of the first point movement.

	},
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
</code></pre>
<p><b>w</b> coordinate of the point is index of the <a href="https://github.com/anhr/commonNodeJS/tree/master/colorpicker">color palette</a>.
Now you can see the color of the first point as blue at the begin of playing and white at the end of playing
because default range of the <a href="https://github.com/anhr/commonNodeJS/tree/master/colorpicker">color palette</a> from 0 to 100.
But current range of the <b>1-2 * t</b> function from 1 to -1 for default <b>t</b> range from 0 to 1.
You can resolve this issue by change of the palette range.
Replace <b>w</b> coordinate of the first point from <b>new Function( 't', 'return 1-2*t' )</b> to an object as wrote below.
See arrayFuncs parameter of the <a href="https://raw.githack.com/anhr/commonNodeJS/master/player/jsdoc/module-Player.html#~Player.getColors">Player.getColors(...)</a> for details.</p>
<pre class="prettyprint source"><code>const arrayFuncs = [
	{

		vector: new THREE.Vector4(
			new Function( 't', 'a', 'b', 'return Math.sin(t*a*2*Math.PI)*0.5+b' ),//x
			new Function( 't', 'a', 'b', 'return Math.cos(t*a*2*Math.PI)*0.5-b' ),//y
			0.5,//z
			{

				func: new Function( 't', 'return 1-2*t' ),
				min: -1,
				max: 1,

			},//w
		),//First point
		trace: true,//Displays the trace of the first point movement.

	},
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
</code></pre>
<ul>
<li>Select a <a href="https://github.com/anhr/commonNodeJS/tree/master/colorpicker">color palette</a>.</li>
</ul>
<p>Default color palette index is <a href="https://raw.githack.com/anhr/commonNodeJS/master/colorpicker/Example/index.html#Bidirectional#BGRW">ColorPicker.paletteIndexes.BGRW</a>.
You can select another palette. Please import <b>ColorPicker</b> into your web page for it.</p>
<pre class="prettyprint source"><code>import ColorPicker from 'https://raw.githack.com/anhr/commonNodeJS/master/colorpicker/colorpicker.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import ColorPicker from './commonNodeJS/master/colorpicker/colorpicker.js';
</code></pre>
<p>Set THREE for palette.</p>
<pre class="prettyprint source"><code>ColorPicker.palette.setTHREE(THREE);
</code></pre>
<p>Create a palette. For example <a href="https://raw.githack.com/anhr/commonNodeJS/master/colorpicker/Example/index.html#Bidirectional">ColorPicker.paletteIndexes.bidirectional</a> palette.</p>
<pre class="prettyprint source"><code>const palette = new ColorPicker.palette( { palette: ColorPicker.paletteIndexes.bidirectional } );
</code></pre>
<p>Add new palette in the <b>Player</b>.</p>
<pre class="prettyprint source"><code>const player = new Player( THREE, scene, {

	selectPlaySceneOptions: { palette: palette, },
	settings: {

		marks: 100,//Ticks count of the playing.
		interval: 25,//Ticks per seconds.

	},

} );
</code></pre>
<p>Also you can create your own custom palette.</p>
<pre class="prettyprint source"><code>new ColorPicker.palette( { palette: [

	{ percent: 0, r: 0xff, g: 255, b: 0xff, },
	{ percent: 10, r: 0, g: 0, b: 0, },
	{ percent: 20, r: 0xff, g: 0, b: 0x0, },
	{ percent: 30, r: 0x0, g: 255, b: 0x0, },
	{ percent: 40, r: 0x0, g: 0, b: 0xff, },
	{ percent: 80, r: 0x0, g: 0, b: 0xff, },
	{ percent: 90, r: 0xff, g: 255, b: 0xff, },

] } );
</code></pre>
<p>Currently your player use same palette for all meshes.
You can set individual palette for any mesh. Add <b>palette</b> key in the <b>mesh.userData.player</b> for it.
For example <a href="https://raw.githack.com/anhr/commonNodeJS/master/colorpicker/Example/index.html#rainbow">ColorPicker.paletteIndexes.rainbow</a> palette.</p>
<pre class="prettyprint source"><code>points.userData.player = {

	arrayFuncs: arrayFuncs,
	palette: new ColorPicker.palette( { palette: ColorPicker.paletteIndexes.rainbow } ),

}
</code></pre>
<p><a name="MovePoints"></a></p>
<h4>Move points position.</h4>
<ul>
<li>Add <b>selectPlayScene</b> key to the <b>points.userData.player</b> object.</li>
</ul>
<pre class="prettyprint source"><code>points.userData.player = {

	arrayFuncs: arrayFuncs,
	selectPlayScene: function ( t ) {

		points.position.x = 8*t;

	}

}
</code></pre>
<p><b>t</b> is current time.</p>
<p>Now all points in your canvas moving to the left.</p>
<p>Also you can scale and rotate any mesh on your canvas. For example.</p>
<pre class="prettyprint source"><code>points.rotation.z = - Math.PI * 2 * t;
</code></pre>
<p><a name="ShaderMaterialPoints"></a></p>
<h4>Create THREE.Points with <a href="https://threejs.org/docs/index.html#api/en/materials/ShaderMaterial">THREE.ShaderMaterial</a> material.</h4>
<p>Currently, it seems to you that the size of the first point changes during of the the playing because point moves near or far from camera.
Sometimes you want to see the sizes of the points is not depend from distance to camera.
To do it, please remove your old <b>const points</b> and use <b>getShaderMaterialPoints</b> for creating of new points as described in <a href="https://raw.githack.com/anhr/commonNodeJS/master/getShaderMaterialPoints/jsdoc/index.html">getShaderMaterialPoints API</a>.
<a name="MyPoints"></a></p>
<h4>Use MyPoints for create points.</h4>
<p>Please remove your old <b>const points</b> and <b>getShaderMaterialPoints</b> and use <a href="https://raw.githack.com/anhr/commonNodeJS/master/myPoints/jsdoc/index.html">MyPoints</a> for creating of new points.
Import <b>MyPoints</b> into your web page for it.</p>
<pre class="prettyprint source"><code>import MyPoints from 'https://raw.githack.com/anhr/commonNodeJS/master/myPoints/myPoints.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import MyPoints from './commonNodeJS/master/myPoints/myPoints.js';
</code></pre>
<p>Example.</p>
<pre class="prettyprint source"><code>MyPoints( THREE, arrayFuncs, scene, {

	Player: Player,

} );
</code></pre>
<p>Now you can see, first point is moving and changing color.</p>
<p>Currently all <b>MyPoints</b> settings is default.
You can set your own setting for <b>MyPoints</b>. For example set points size to 15 and move all points to right during playing.</p>
<pre class="prettyprint source"><code>MyPoints( THREE, arrayFuncs, scene, {

	Player: Player,
	options: {

		point: { size: 15 },

	},
	pointsOptions: {

		position: new THREE.Vector3( new Function( 't', 'return t' ), 0, 0 ),

	}

} );
</code></pre>
<p>If you want to see the sizes of the points is not depend from distance to camera,
please add <b>shaderMaterial: {}</b> into <b>pointsOptions</b> of the <b>MyPoints</b> for it.</p>
<pre class="prettyprint source"><code>MyPoints( THREE, arrayFuncs, scene, {

	Player: Player,
	options: {

		point: { size: 15 },

	},
	pointsOptions: {

		position: new THREE.Vector3( new Function( 't', 'return t' ), 0, 0 ),
		shaderMaterial: {}

	}

} );
</code></pre>
<p><a name="CanvasMenu"></a></p>
<h4>Add <b>player</b> item into <a href="https://github.com/anhr/commonNodeJS/tree/master/canvasMenu">CanvasMenu</a>.</h4>
<p>Import <b>CanvasMenu</b> into your web page for it.</p>
<pre class="prettyprint source"><code>import CanvasMenu from 'https://raw.githack.com/anhr/commonNodeJS/master/canvasMenu/canvasMenu.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import CanvasMenu from './commonNodeJS/master/canvasMenu/canvasMenu.js';
</code></pre>
<p>Create CanvasMenu.</p>
<pre class="prettyprint source"><code>new CanvasMenu( renderer, {

	player: player,

} );
</code></pre>
<p>Please move mouse over canvas.
Now you can see a player's menu items on the bottom of the canvas.</p>
<p><a name="datGuiPlayer"></a></p>
<h4>Using <a href="https://github.com/anhr/dat.gui">dat.gui</a> for manual change of the <b>Player</b> settings.</h4>
<p>Import <b>dat.gui</b>.</p>
<pre class="prettyprint source"><code>import { dat } from 'https://raw.githack.com/anhr/commonNodeJS/master/dat/dat.module.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import { dat } from './commonNodeJS/master/dat/dat.module.js';
</code></pre>
<p>Add <b>Player</b> settings into gui</p>
<pre class="prettyprint source"><code>const gui =  new dat.GUI();
player.gui( gui );
</code></pre>
<p>If you want to localize the gui, please import <b>getLanguageCode</b>.</p>
<pre class="prettyprint source"><code>import { getLanguageCode } from 'https://raw.githack.com/anhr/commonNodeJS/master/lang.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import { getLanguageCode } from './commonNodeJS/master/lang.js';
</code></pre>
<p>and edit <b>player.gui(...)</b>.</p>
<pre class="prettyprint source"><code>player.gui( gui, {

	getLanguageCode: getLanguageCode

} );
</code></pre>
<p>If you want save a custom <b>Player</b> settings to the cookie, please import <b>cookie</b></p>
<pre class="prettyprint source"><code>import cookie from 'https://raw.githack.com/anhr/commonNodeJS/master/cookieNodeJS/cookie.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import cookie from './commonNodeJS/master/cookieNodeJS/cookie.js';
</code></pre>
<p>and edit <b>player.gui(...)</b>.</p>
<pre class="prettyprint source"><code>player.gui( gui, {

	getLanguageCode: getLanguageCode,
	cookie: cookie,

} );
</code></pre>
<p><a name="datGuiCamera"></a></p>
<h5>Using <a href="https://github.com/anhr/dat.gui">dat.gui</a> for manual change of the <b>camera</b> settings.</h5>
<p>First, import <b>CameraGui</b></p>
<pre class="prettyprint source"><code>import CameraGui from 'https://raw.githack.com/anhr/commonNodeJS/master/CameraGui.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import CameraGui from './commonNodeJS/master/CameraGui.js';
</code></pre>
<p>Add <b>CameraGui</b> into gui</p>
<pre class="prettyprint source"><code>new CameraGui( gui, camera, {

	getLanguageCode: getLanguageCode,
	orbitControls: controls,

} );
</code></pre>
<p><a name="datGuiPlayerControl"></a></p>
<h4>Add player control buttons to the <a href="https://github.com/anhr/dat.gui">dat.gui</a>.</h4>
<p>First, import <b>controllerPlay</b>.</p>
<pre class="prettyprint source"><code>import controllerPlay from 'https://raw.githack.com/anhr/commonNodeJS/master/controllerPlay/controllerPlay.js';
</code></pre>
<p>or download <a href="https://github.com/anhr/commonNodeJS">commonNodeJS</a> repository into your &quot;[folderName]\commonNodeJS\master&quot; folder.</p>
<pre class="prettyprint source"><code>import controllerPlay from './commonNodeJS/master/controllerPlay/controllerPlay.js';
</code></pre>
<p>Add player control buttons.</p>
<pre class="prettyprint source"><code>controllerPlay.create( player, gui );
</code></pre>
<p><a name="cameraLook"></a></p>
<h4>Set the camera to look at a point.</h4>
<p>Now you can see, all points moves and hides on the right border of the canvas during playing.
You can set the camera to look at a selected point during playing for resolving of issue.
Please, add the <b>cameraTarget</b> key into <b>arrayFuncs</b> array for it.</p>
<pre class="prettyprint source"><code>const arrayFuncs = [
	{

		vector: new THREE.Vector4(
			new Function( 't', 'a', 'b', 'return Math.sin(t*a*2*Math.PI)*0.5+b' ),//x
			new Function( 't', 'a', 'b', 'return Math.cos(t*a*2*Math.PI)*0.5-b' ),//y
			0.5,//z
			{

				func: new Function( 't', 'return 1-2*t' ),
				min: -1,
				max: 1,

			},//w
		),//First point
		trace: true,//Displays the trace of the first point movement.

		//Set the camera to look at the first point.
		cameraTarget: {

			camera: camera,

		},

	},
	new THREE.Vector3( -0.5, -0.5, -0.5 ),//Second point
];
</code></pre>
<p>ATTENTION!!! Only one point can have <b>cameraTarget</b> key!
You will receive the</p>
<p><i>Player.getPoints: duplicate cameraTarget</i></p>
<p>console warning if two or more points have <b>cameraTarget</b> key.
Then only last point with <b>cameraTarget</b> key will be have an effect.</p>
<p>Currently uses default value of the distance from camera to selected point.
Also you can rotate camera around on the point. Please add <b>cameraTarget</b> object into <b>camera.userData</b> for it.</p>
<pre class="prettyprint source"><code>camera.userData.cameraTarget = {

	
	//boLook: false,//camera do not look at a selected point during playing.
		//User can change this key if you add the CameraGui into dat.gui

	Player: Player,
	rotation: {

		//rotate camera to 180 degrees
		//angle: Math.PI,

		//Camera rotation is function of the time.
		angle: new Function( 't', 'return 2*t' ),

		/*
		angle: [
			0,//rotation is 0 degrees for time is 0
			Math.PI / 2//rotation is 90 degrees for time is max time
		],
		*/
		/*
		angle: [
			{ t: 0, v: 0 },//rotation is 0 degrees for time is 0
			{ t: 1, v: Math.PI / 2 },//rotation is 90 degrees for time is 1
			{ t: 10, v: Math.PI / 2 },//rotation is 90 degrees for time is 10
			{ t: 11, v: 0 }//rotation is 0 degrees for time is 11 and great.
		],
		*/
		//axis: new THREE.Vector3( 1, 0, 0 ),//Rotate around x axis

	},
	//distanceToCamera: new THREE.Vector3( 0, 0, 5 ),
	//distanceToCamera: new THREE.Vector3( 0, 0, new Function( 't', 'return 2+t' ) ),
	/*
	distanceToCamera: new THREE.Vector3( 0, 0, [
		{ t: 0, v: 5 },//distance to camera is 5 for time is 0
		{ t: 1, v: 2 },//distance to camera is 2 for time is 1
		{ t: 10, v: 2 },//distance to camera is 2 for time is 10
		{ t: 11, v: 5 }//distance to camera is 5 for time is 11 and great.
	] ),
	*/

}
</code></pre>
<p>You can set individual setting for selected point. Please add <b>rotation</b>, <b>distanceToCamera</b>, <b>boLook</b> keys into <b>cameraTarget</b> object for selected point</p>
<pre class="prettyprint source"><code>cameraTarget: {

	camera: camera,
	rotation: {

		angle: 0,
		//angle: new Function( 't', 'return 5*t' ),
		//angle: [0, Math.PI / 2],
		//angle: [{ t: 0, v: 0 }, { t: 1, v: Math.PI / 2 }, { t: 10, v: Math.PI / 2 },  { t: 11, v: 0 }],
		//axis: new THREE.Vector3( 1, 0, 0 ),//Rotate around x axis

	},
	distanceToCamera: new THREE.Vector3( 0, 0, [
		{ t: 0, v: 10 },//distance to camera is 5 for time is 0
		{ t: 1, v: 2 },//distance to camera is 2 for time is 1
	] ),

},
</code></pre>
<p>Individual setting for selected point is more priority before camera settings.</p>
<p><a name="playingTime"></a></p>
<h4>Time of the playing.</h4>
<p>Default time of the playing limited between 0 and 1.
You can set another time limit. Please add min and max keys into settings of the new Player for it</p>
<pre class="prettyprint source"><code>const player = new Player( THREE, scene, {

	selectPlaySceneOptions: { palette: palette, },
	settings: {

		marks: 100,//Ticks count of the playing.
		interval: 25,//Ticks per seconds.
		min: 0,
		max: 2,

	},

} );
</code></pre>
<p><a name="DirectoryContents"></a></p>
<h2>Directory Contents</h2>
<pre class="prettyprint source"><code>build - Compiled source code.
</code></pre>
<p><a name="Building"></a></p>
<h2>Building your own Player</h2>
<p>In the terminal, enter the following:</p>
<pre class="prettyprint source"><code>$ npm install
$ npm install uglify-es
$ npm run build
</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Player.html">Player</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Tue Nov 24 2020 10:13:19 GMT+0700 (Красноярск, стандартное время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>